<p id="notice"><%= notice %></p>

<p>
    <strong>Name:</strong>
    <%= @question.name %>
</p>

<p>
    <strong>User:</strong>
    <%= @question.user.email %>
    <%= link_to "follow user", follows_path(id: @question.user.id, key: "user" ),class: "follow_user", method: :post %>
</p>

<td colspan="3">
    <% @question.topics.each do |topic| %>
    <%= topic.name %>
    <%= link_to "follow topic",  follows_path(id: topic.id, key: "topic" ) ,class: "follow_topic", method: :post %></br>
    <% end %>
</td>
<p>
    <strong>Answers:</strong>
</p>
<p>
    <%= link_to 'New Answer', new_answer_path(question_id: @question.id) %>

    <% if @question.answers.present? %>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>User</th>
                <th colspan="3"></th>
            </tr>
        </thead>
        <% @question.answers.each do |answer| %>
        <tr class="answer">
            <td><%= answer.name %></td>
            <td><%= answer.user.email %></td>
            <td><%= link_to 'Edit', edit_answer_path(answer) %></td>
            <td><%= link_to 'Destroy', answer, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
        <% end %>
    </table>
    <% else %>
    <p class="answer">No Answers yet</p>
    <% end %>
</p>